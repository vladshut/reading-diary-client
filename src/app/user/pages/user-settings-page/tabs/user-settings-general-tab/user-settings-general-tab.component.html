<div class="media">
  <ngx-avatar [src]="getAvatarLink()" [size]="100" [name]="user.name | simpleName" [textSizeRatio]="2"
              class="d-inline-block"></ngx-avatar>
  <div class="media-body">
    <div class="col-12 mb-0">
      <button class="btn btn-link mb-0 pl-0" (click)="onAvatarEdit()">
        <i class="fas fa-edit"></i>
        &nbsp;
        <ng-container i18n="@@actions.edit">Edit</ng-container>
      </button>
    </div>
    <div class="col-12 mb-0">
      <p class="text-muted mt-0"><small i18n="@@profile.avatar.restrictions">Allowed JPG, PNG. Max size of 1MB</small></p>
    </div>
  </div>
</div>
<hr class="mt-1 mt-sm-2">
<form [formGroup]="form" (ngSubmit)="onSubmit()">

  <div class="form-group row">
    <div class="col-12">
      <label class="label-control" for="name">
        <ng-container i18n="@@user.email">Email</ng-container>
        <span class="asterisk">*</span>
      </label>
      &nbsp;
      <span *ngIf="user.isEmailVerified()" class="text-success" i18n="@@user.email.verified">Verified</span>
      <ng-container *ngIf="!user.isEmailVerified()">
        <span class="text-danger small" i18n="@@user.email.not_verified">Not verified</span>
        <button type="button" class="btn btn-link btn-sm m-0" i18n="@@actions.resend_verification"
                (click)="onSendVerification()">Resend verification
        </button>
      </ng-container>
    </div>
    <div class="col-12">
      <div class="input-group mb-0">
        <input type="text" id="email" formControlName="email" class="form-control">
      </div>
      <app-control-messages [control]="form.controls.email"></app-control-messages>
    </div>
  </div>

  <div class="form-group row">
    <label class="col-12 label-control" for="name">
      <ng-container i18n="@@user.name">Name</ng-container>
      <span class="asterisk">*</span>
    </label>
    <div class="col-12">
      <div class="input-group mb-0">
        <input type="text" id="name" formControlName="name" class="form-control">
      </div>
      <app-control-messages [control]="form.controls.name"></app-control-messages>
    </div>
  </div>

  <div class="form-group row">
    <label class="col-12 label-control" for="bio" i18n="@@user.bio">Bio</label>
    <div class="col-12">
      <div class="input-group mb-0">
        <textarea autosize id="bio" formControlName="bio" class="form-control"></textarea>
      </div>
      <app-control-messages [control]="form.controls.bio"></app-control-messages>
    </div>
  </div>

  <div class="form-group row">
    <div class="col-12 text-center">
      <button class="btn btn-raised btn-primary ml-1" type="submit" i18n="@@Save">Save</button>
      <button class="btn btn-outline-danger ml-1" type="button" i18n="@@Cancel" (click)="onCancel()">Cancel
      </button>
    </div>
  </div>

</form>
