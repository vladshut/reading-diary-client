<ngx-loading [show]="isLoading()"></ngx-loading>

<div class="row d-flex justify-content-center">
  <div class="col-md-8" style="max-width: 1500px">
    <kendo-pdf-export #pdf paperSize="A4" margin="0cm" [scale]="0.6">
      <div class="card">
        <div class="card-header d-flex justify-content-between">
          <h1 class="card-title" *ngIf="userBook">
            {{userBook.book.title}}&nbsp;&nbsp;<span class="text-muted" i18n="report">Report</span>
          </h1>
          <div>
            <ng-container *appShowItForAuthenticated>
              <button *ngIf="userBook && !userBook.isPublic()" class="btn btn-outline-primary" (click)="makePublic()">
                <i class="fa fa-share"></i>
                &nbsp;&nbsp;
                <ng-container i18n="actions.share">Share</ng-container>
              </button>
              <button *ngIf="userBook && userBook.isPublic()" class="btn btn-outline-primary" (click)="openManageAccessModal()">
                <i class="fa fa-users"></i>
                &nbsp;&nbsp;
                <ng-container i18n="actions.manage_access">Manage access</ng-container>
              </button>
            </ng-container>


            <button class="btn btn-outline-success ml-2" kendo-button
                    (click)="pdf.saveAs(userBook.book.title + ' Report.pdf')">
              <i class="fa fa-download"></i>&nbsp;&nbsp;Download PDF
            </button>
          </div>
        </div>

        <div class="card-body">
          <ng-container *ngIf="section">
            <app-completed-report-section-item [section]="section"></app-completed-report-section-item>
          </ng-container>
        </div>
      </div>
    </kendo-pdf-export>
  </div>
</div>
